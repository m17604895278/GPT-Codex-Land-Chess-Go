# 翻棋军旗规则说明书（后端版 · v1）

## 一、游戏基本信息
- 游戏类型：翻棋军旗（1v1）
- 玩家人数：2 人
- 回合制
- 无铁路（简化版）
- 棋盘为标准军旗棋盘

---

## 二、棋子构成（每方 25 枚）

### 军衔从大到小：
1. 司令  
2. 军长  
3. 师长  
4. 旅长  
5. 团长  
6. 营长  
7. 连长  
8. 排长  
9. 工兵  

### 特殊棋：
- 炸弹  
- 地雷  
- 军旗  

规则说明：
- 军旗、地雷：不能移动  
- 工兵：可以吃地雷  
- 炸弹：与任何棋子相遇 → 同归于尽  

---

## 三、开局规则（翻棋）
1. 双方棋子混合打乱  
2. 随机放入棋盘  
3. 所有棋子初始状态：未翻开  

---

## 四、阵营确定规则
- 玩家第一次翻开的棋子：
  - 其阵营即为该玩家阵营  
- 另一方自动成为对立阵营  
- 阵营确定后：
  - 只能移动自己阵营棋子  

---

## 五、回合规则
玩家回合只能执行一种操作：
- 翻棋  
- 走棋  

---

## 六、移动规则
- 只能上下左右走一格  
- 不允许斜走  
- 军旗、地雷不能移动  
- 不能移动未翻开的棋子  

---

## 七、吃子规则

### 普通棋：
- 等级高者胜  
- 等级低者被吃  
- 相同等级 → 同归于尽  

### 特殊棋：
- 炸弹：与任何棋子相遇 → 同归于尽  
- 工兵：可以吃地雷  
- 地雷：
  - 只能被工兵吃  
  - 其他棋子碰到 → 自己死  

### 军旗：
- 不能移动  
- 被吃即失败  

---

## 八、胜负判定
满足以下任一条件，游戏结束：
1. 一方军旗被吃  
2. 一方无可移动棋子  

---

## 九、棋子显示规则（客户端视角）
- 未翻开棋子：显示背面  
- 已翻开棋子：显示真实身份  
- 被吃棋子：从棋盘移除  

---

## 十、非法操作（后端必须拒绝）
- 非自己回合操作  
- 翻已翻开的棋  
- 移动未翻开的棋  
- 移动对方阵营棋子  
- 军旗 / 地雷尝试移动  
- 走斜线  
- 越界移动  

---

## 十一、对局流程
开始 → 随机摆棋 → 玩家回合 → 翻棋或走棋 → 更新棋盘 → 切换回合 → 判胜负 → 结束
